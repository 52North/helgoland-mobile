<ion-list>
  <ion-list-header *ngIf="counter">
    {{counter}} timeseries are loading...
  </ion-list-header>
  <ion-item *ngFor="let timeseries of timeseriesList" (click)="toggle(timeseries)">
    <ion-label>
      <h2>{{timeseries.parameters.phenomenon.label}}</h2>
      <h3>
        <span>{{timeseries.parameters.procedure.label}}</span>
        <span *ngIf="timeseries.parameters.category.label && timeseries.parameters.category.label != timeseries.parameters.phenomenon.label">({{timeseries.parameters.category.label}})</span>
      </h3>
      <p *ngIf="timeseries.lastValue">
        <span>{{timeseries.lastValue.value}}</span>
        <span>{{timeseries.uom}}</span>
        <span>({{timeseries.lastValue.timestamp| date: 'dd.MM.yy HH:mm'}})</span>
      </p>
    </ion-label>
    <ion-toggle [checked]="timeseries.selected"></ion-toggle>
  </ion-item>
</ion-list>
